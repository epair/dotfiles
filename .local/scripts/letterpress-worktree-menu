#!/usr/bin/env bash

# Display tmux menu for letterpress worktree management

LETTERPRESS_DIR="$HOME/code/postie/letterpress-app"

# Build menu items
menu_items=(
    "-T" "Letterpress Worktree Management"
    "" "" ""  # Separator
    "Switch to Worktree" "s" "run-shell 'letterpress-worktree-switch'"
    "Create New Worktree" "c" "run-shell 'letterpress-worktree-create'"
    "Delete Worktree" "d" "run-shell 'letterpress-worktree-delete'"
    "" "" ""  # Separator
    "Submit PR" "p" "run-shell 'letterpress-worktree-pr'"
    "" "" ""  # Separator
    "Restart Webapp" "r" "new-window -d 'zsh -i -c \"stop; up && tmux display-message \\\"letterpress-app webapp restarted\\\"\"'"
)

# Display the menu
tmux display-menu -x C -y C "${menu_items[@]}"